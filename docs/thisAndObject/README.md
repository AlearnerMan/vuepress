
# å¯¹JavaScriptä¸­thiså’ŒåŽŸåž‹çš„ç†è§£
  ä¹¦æŽ¥ä¸Šç¯‡ï¼š[ã€Šå¯¹Javascriptä¸­ä½œç”¨åŸŸå’Œé—­åŒ…çš„ç†è§£ã€‹](https://juejin.cn/post/6982074094623653924)ã€‚æœ¬ç¯‡æ–‡ç« ä¹Ÿæ˜¯å¯¹ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ï¼ˆä¸Šï¼‰ä¸­å…³äºŽthiså’ŒåŽŸåž‹çš„ç†è§£å’Œæ€»ç»“ã€‚  

  ä»…ä»…æ˜¯ç®€å•çš„è¯»å®Œä¹¦ä¸­çš„çŸ¥è¯†è¿œè¿œæ˜¯ä¸å¤Ÿçš„ï¼Œæ›´å¤šçš„æ˜¯éœ€è¦åº”ç”¨åˆ°æˆ‘ä»¬æ—¥å¸¸çš„ä»£ç ç¼–å†™å½“ä¸­ï¼Œ**å­¦ä¹ ä¸åº”è¯¥åªæ˜¯åœç•™åœ¨çŸ¥é“å’Œç†è§£çš„é˜¶æ®µï¼Œæ›´é‡è¦çš„æ˜¯åé¦ˆå’Œåº”ç”¨**ã€‚æ‰€ä»¥è¾“å‡ºè¿™ç¯‡ä¹¦ä¸­çŸ¥è¯†çš„æ€»ç»“ï¼Œä¹Ÿå½“ä½œä¸€ç¯‡ç¬”è®°ç•™ç»™ä»¥åŽçš„è‡ªå·±çœ‹ã€‚
  åºŸè¯ä¸å¤šè¯´ä¸‹é¢å¼€å§‹å…³äºŽthiså’ŒåŽŸåž‹çš„è®²è§£ï¼š
  
  ## this

  è¯´èµ·thisè¿™ä¸ªä¸œè¥¿ï¼ˆæš‚æ—¶ç§°ä¸ºä¸œè¥¿...ï¼‰,å‰ç«¯å¼€å‘åŒå­¦åº”è¯¥éƒ½ä¸é™Œç”Ÿï¼Œæ€»æ˜¯èƒ½è¯´ä¸Šä¸¤å¥ï¼ˆå› ä¸ºè¿™åº”è¯¥æ˜¯é¢è¯•å¿…é—®çš„çŸ¥è¯†ç‚¹ï¼‰ï¼Œä½†æ˜¯å¦‚æžœè¯¦ç»†æŠŠthisçš„çŸ¥è¯†è¯´æ¸…æ¥šçš„è¯ï¼Œå¥½åƒåˆä¸æ˜¯é‚£ä¹ˆæ˜Žç™½ï¼Œåˆ«æ…Œï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä¸€æ­¥æ­¥æ­å¼€ç›–åœ¨thisä¸Šé¢ç¥žç§˜çš„é¢çº±
  ### WHATï¼Ÿ
  å—¯... æ—¶é«¦ä¸€ç‚¹ï¼Œç”¨ä¸ªè‹±æ–‡æ¥å½“æ ‡é¢˜ ðŸ˜  ï¼Œå…¶å®žæ„æ€å°±æ˜¯thisåˆ°åº•æ˜¯ä»€ä¹ˆ
  #### ç†è§£è¯¯åŒº
  é¦–å…ˆæ¥è¯´æ˜Žä¸¤ä¸ªå…³äºŽthisçš„ç†è§£è¯¯åŒºï¼š  

  1. **thisæŒ‡çš„å°±æ˜¯å½“å‰çš„å‡½æ•°**  
  ä½¿ç”¨ä¹¦ä¸­çš„ä¸€ä¸ªç¤ºä¾‹æ¥åé©³è¿™ä¸ªè§‚ç‚¹ï¼š
  ```javascript
  /*
    æˆ‘ä»¬æƒ³è¦æ¥è®°å½•ä¸€ä¸‹å‡½æ•°è¢«è°ƒç”¨çš„æ¬¡æ•°
  */
   function foo(){
       console.log('fooè¢«è°ƒç”¨'+ ++this.count +'æ¬¡')
   }
   // åˆå§‹åŒ–count 
   foo.count = 0
   // ç¬¬ä¸€æ¬¡è°ƒç”¨
   foo() // fooè¢«è°ƒç”¨NaNæ¬¡  why????
  ```
  æˆ‘ä»¬æ¥çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æžœthisæŒ‡å‘çš„æ˜¯fooçš„è¯ï¼Œé‚£ä¹ˆåº”è¯¥è¾“å‡ºçš„æ˜¯ï¼š**fooè¢«è°ƒç”¨1æ¬¡**ï¼Œä½†å®žé™…è¾“å‡ºçš„ç¡®æ˜¯ï¼š**fooè¢«è°ƒç”¨NaNæ¬¡**ï¼Œç”±æ­¤å¯è§thisä¸æ˜¯æŒ‡å‘å½“å‰çš„å‡½æ•°çš„ã€‚  

  ä½†æ˜¯ä¸ºä»€ä¹ˆä¼šè¾“å‡ºè¿™ä¸ªå‘¢ï¼Ÿåœ¨è¿™é‡Œå–ä¸ªå…³å­ï¼Œä¸‹é¢thisçš„ç»‘å®šè§„åˆ™çœ‹å®Œä¹‹åŽä½ å°±ä¼šæ˜Žç™½ä¸ºä»€ä¹ˆï¼Œå¯ä»¥åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„ç†è§£ã€‚  

  å½“ç„¶çœ‹è¿‡ä¸Šä¸€ç¯‡çš„åŒå­¦å¯èƒ½ä¼šæœºæ™ºçš„æŒ‡å‡ºæˆ‘åªéœ€è¦å®šä¹‰ä¸€ä¸ªå˜é‡æ¥å­˜å‚¨countï¼Œåˆ©ç”¨ä¸Šä¸€ç¯‡å­¦çš„è¯æ³•ä½œç”¨åŸŸçš„çŸ¥è¯†å°±å¯ä»¥å®žçŽ°æƒ³è¦çš„åŠŸèƒ½äº†ï¼Œæ˜¯çš„ï¼Œå¯ä»¥çš„ï¼Œä½†è¿™è·Ÿæˆ‘ä»¬è®²thisæ²¡æœ‰å•¥å…³ç³»ï¼Œå°±ä¸åœ¨è¿™é‡Œè´´ä»£ç äº†ã€‚

  2. **thisæŒ‡çš„æ˜¯å‡½æ•°çš„ä½œç”¨åŸŸï¼ˆä¸ç†è§£ä½œç”¨åŸŸçš„åŒå­¦è‡ªå·±åŽ»çœ‹ä¸Šä¸€ç¯‡æ–‡ç« ï¼‰**    
  è¿™ä¸ªè¯´æ³•ä¸èƒ½è¯´å®Œå…¨ä¸å¯¹åªèƒ½è¯´è¿™åªæ˜¯ä¸€ç§ç®€å•çš„æƒ…å†µï¼ŒåŒæ ·è¿˜æ˜¯å¯ä»¥é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜Žä¸€ä¸‹ï¼š
  ```javascript
  function foo(){
     var a = 0
     console.log(this.a)
  }
  foo() // undefined  why???
  ```
  çœ‹ä¸Šé¢çš„ä»£ç ï¼Œå¦‚æžœthisæŒ‡å‘çš„æ˜¯fooå‡½æ•°çš„ä½œç”¨åŸŸï¼Œé‚£ä¹ˆaå˜é‡è‚¯å®šæ˜¯å­˜åœ¨äºŽfooçš„ä½œç”¨åŸŸä¸­çš„ï¼Œä½†å®žé™…ä¸Šè¾“å‡ºçš„æ˜¯undefined  

  å¼•ç”¨ä¹¦ä¸­ä¸€å¥è¯ï¼š**åœ¨JavaScriptå†…éƒ¨ï¼Œä½œç”¨åŸŸç¡®å®žå’Œå¯¹è±¡ç±»ä¼¼ï¼Œå¯è§çš„æ ‡è¯†ç¬¦éƒ½æ˜¯ä»–çš„å±žæ€§ï¼Œä½†æ˜¯ä½œç”¨åŸŸâ€˜å¯¹è±¡â€™æ— æ³•é€šè¿‡JavaScriptä»£ç è®¿é—®ï¼ˆä¹Ÿå°±æ˜¯è¯´æ— æ³•æ˜¾å¼çš„èµ‹å€¼ç»™ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼‰ï¼Œå®ƒå­˜åœ¨äºŽJavaScriptå¼•æ“Žå†…éƒ¨ï¼ˆå¼•æ“Žå¯ä»¥éšå¼çš„è®©æˆ‘ä»¬è®¿é—®ï¼‰**

  #### thisåˆ°åº•æ˜¯ä»€ä¹ˆï¼ˆå®Œå…¨ç…§æŠ„ï¼‰
 
   thisæ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œç»‘å®šçš„ï¼Œå¹¶ä¸æ˜¯åœ¨ç¼–å†™æ—¶ç»‘å®šï¼Œä»–çš„ä¸Šä¸‹æ–‡å–å†³äºŽå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ï¼Œthisçš„ç»‘å®šå’Œå‡½æ•°å£°æ˜Žçš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºŽå‡½æ•°çš„è°ƒç”¨æ–¹å¼  

   å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ´»åŠ¨è®°å½•ï¼ˆæœ‰æ—¶ä¹Ÿä¼šç§°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ã€‚è¿™ä¸ªè®°å½•ä¼šåŒ…å«å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨/å‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼Œä¼ å…¥çš„å‚æ•°ç­‰ä¿¡æ¯ï¼Œthiså°±æ˜¯è¿™ä¸ªè®°å½•çš„ä¸€ä¸ªå±žæ€§ï¼Œä¼šåœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ç”¨åˆ°

   ä¹Ÿå°±æ˜¯è¯´ï¼Œ**thisåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™æ˜¯å•¥ï¼Œè°éƒ½ä¸çŸ¥é“ï¼ˆé‚£å®ƒè·Ÿè¯æ³•ä½œç”¨åŸŸæ²¡å¾—å…³ç³»äº†ï¼‰ï¼Œåªæœ‰åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰çŸ¥é“thisåˆ°åº•æ˜¯è°ï¼ˆæœ‰å¯èƒ½æ˜¯å‡½æ•°è‡ªå·±å“¦...ï¼‰**




  ### thisç»‘å®šè§„åˆ™
  ä¸Šé¢æˆ‘ä»¬åªæ˜¯ç®€å•çš„ç†è§£äº†ä¸€ä¸‹thisæ˜¯ä»€ä¹ˆä»¥åŠè¯´æ˜Žäº†ä¸¤ä¸ªå¸¸è§çš„è¯¯åŒºï¼Œä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“è¯´æ˜Žä¸€ä¸‹å½“å‡½æ•°ä¸­å‡ºçŽ°thisçš„æ—¶å€™ä¸åŒçš„åœºæ™¯ä¸‹ï¼ŒthisæŒ‡çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿä¹Ÿå°±æ˜¯thisçš„ç»‘å®šè§„åˆ™  

  åº”è¯¥æ˜¯æœ‰å››ä¸ªè§„åˆ™ï¼Œå…¶ä»–çš„åœºæ™¯éƒ½æ˜¯è¿™å‡ ä¸ªè§„åˆ™çš„ç»„åˆï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä¸€ä¸€ä»‹ç»è¿™å››ä¸ªè§„åˆ™ï¼šé»˜è®¤ç»‘å®š/éšå¼ç»‘å®š/æ˜¾å¼ç»‘å®š/newç»‘å®š
  ### é»˜è®¤ç»‘å®š
  è¿™ä¸ªè§„åˆ™ä¹Ÿæ˜¯å½“æ— æ³•åº”ç”¨å…¶ä»–è§„åˆ™æ—¶çš„é»˜è®¤è§„åˆ™ï¼šç‹¬ç«‹å‡½æ•°è°ƒç”¨
  ä¸‹é¢æˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜Žï¼š
  ```javascript
  function foo(){
    console.log(this.a)
  }
  var a = 1
  foo() // 1
  ```
  ä¸Šé¢ä¾‹å­ä¸­foo()æ²¡æœ‰ä»»ä½•ä¿®é¥°çš„å‡½æ•°å¼•ç”¨è°ƒç”¨çš„ï¼Œæ‰€ä»¥æ˜¯é»˜è®¤è°ƒç”¨ï¼ˆå°±æ˜¯è¯´ç›´æŽ¥è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¸€èˆ¬å°±æ˜¯é»˜è®¤è°ƒç”¨ï¼Œä¸ç®¡æ˜¯åœ¨ä»€ä¹ˆä½ç½®ï¼‰

  ### éšå¼ç»‘å®š
  è°ƒç”¨ä½ç½®æ˜¯å¦æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæˆ–è€…è¯´æ˜¯å¦è¢«æŸä¸ªå¯¹è±¡æ‹¥æœ‰æˆ–è€…åŒ…å«ï¼ˆæ˜¯å¦æ˜¯å½“ä½œå¯¹è±¡çš„å±žæ€§æ¥è°ƒç”¨ï¼‰ï¼Œæ­¤æ—¶è¿™ä¸ªthisæŒ‡å‘ä¸Šä¸‹æ–‡å¯¹è±¡æˆ–è€…æŸä¸ªå¯¹è±¡
  åŒæ ·è¿˜æ˜¯çœ‹ä¸€ä¸ªä¾‹å­ï¼š
  ```javascript
   function foo(){
     console.log(this.a)
   }
   var obj = {
     a:2,
     foo:foo
   }
   obj.foo() // 2
  ```
  **é€šè¿‡obj.foo()è°ƒç”¨æ–¹å¼è°ƒç”¨çš„è¯ï¼Œéšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠthisç»‘å®šåˆ°objä¸Šé¢**ï¼ˆå…·ä½“åˆ°å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡çš„è¯ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡ŒæŸ¥é˜…å…¶ä»–èµ„æ–™ï¼‰
  ##### éšå¼ä¸¢å¤±
  ä¸€ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜å°±æ˜¯éšå¼ç»‘å®šæ—¶thisä¸¢å¤±çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬å‡½æ•°å½“ä½œå‚æ•°ä¼ é€’æ—¶æˆ–è€…æˆ‘ä»¬æŠŠå¯¹è±¡æ–¹æ³•é‡æ–°èµ‹å€¼ç»™å…¶ä»–å˜é‡åœ¨è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šå‡ºå‡½æ•°ä¸¢å¤±ç»‘å®šå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™ä¼šåº”ç”¨é»˜è®¤ç»‘å®šè§„åˆ™ï¼Œä¸‹é¢è¿˜æ˜¯é€šè¿‡ä¸¤ä¸ªä¾‹å­æ¥çœ‹ä¸€ä¸‹ï¼š
  ```javascript
  function foo(){
    console.log(this.a)
  }
  var obj = {
    a:1,
    foo:foo
  }
  var bar = obj.foo
  var a = 'global props'
  // å½“æˆ‘ä»¬é‡æ–°èµ‹å€¼ç»™barçš„æ—¶å€™ï¼Œä¼šå‡ºçŽ°éšå¼ç»‘å®šå¯¹è±¡ä¸¢å¤±çš„æƒ…å†µ
  bar() // 'global props'  

  // å½“è¢«å½“åšå‚æ•°ä¼ é€’çš„æ—¶å€™ä¹Ÿä¼šå‘ç”Ÿéšå¼ä¸¢å¤±çš„æƒ…å†µ
  function doFoo(fn){
    fn() 
  }
  doFoo(obj.foo) // 'global props'
  ```



  ### æ˜¾å¼ç»‘å®š
  å¦‚æžœæˆ‘å°±æƒ³åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå¼ºåˆ¶è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯æŠŠè¿™ä¸ªå‡½æ•°èµ‹å€¼ç»™è¿™ä¸ªå¯¹è±¡çš„å±žæ€§å‘¢ï¼Ÿjsä¹Ÿç»™æˆ‘ä»¬æä¾›äº†è¿™æ ·çš„æ˜¾å¼ç»‘å®šçš„æœºåˆ¶ï¼šcall/apply/bind,ä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹è¿™å‡ ä¸ªå‡½æ•°ï¼š
  #### call/applyæ–¹æ³•
  æŠŠè¿™ä¸¤ä¸ªå‡½æ•°æ”¾åˆ°ä¸€èµ·æ¥è¯´ï¼Œæ˜¯å› ä¸ºä»–ä»¬ä¸¤ä¸ªåŒºåˆ«å°±æ˜¯ä¼ å‚çš„åŒºåˆ«ï¼ˆæ‰€ä»¥ä¸ºå•¥æä¾›ä¸¤ä¸ªå‡½æ•°å‘¢ï¼Ÿï¼‰ï¼Œä»–ä»¬ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä½ æƒ³è¦æ˜¾å¼ç»‘å®šçš„å¯¹è±¡ï¼ˆå¦‚æžœæ˜¯åŸºç¡€ç±»åž‹ï¼Œä¼šè½¬æ¢æˆå¯¹åº”çš„å¯¹è±¡å½¢å¼ï¼šstring->String...ï¼‰,callé™¤äº†è¿™ä¸ªä¹‹å¤–æ˜¯ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œapplyæ–¹æ³•å‰©ä¸‹çš„å‚æ•°å¯ä»¥ä¼ é€’ä¸€ä¸ªæ•°ç»„ï¼Œä¼šæŠŠæ•°ç»„ä¸­çš„å‚æ•°ä¼ é€’ç»™è°ƒç”¨å‡½æ•°
  ä¸‹é¢è¿˜æ˜¯æ¥ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜Žä¸€ä¸‹
  ```javascript
  function add(num1,num2){
    return this.basicNum + num1 + num2
  }
  var obj = {
    basicNum:1
  }

  add.call(obj,1,2) // 4

  add.apply(obj,[1,2]) // 4
  
  // é‚£å¦‚æžœapplyä¼ å¤šäºŽä¸¤ä¸ªå‚æ•°å‘¢ï¼Ÿä¼šè¢«å¿½ç•¥
  add.apply(obj,[1,2],3) // 4
  add.apply(obj,[1,2,3]) // 4
  add.apply(obj,[1]) // NaN => 1 + undefined = NaN
  add.apply(obj,1) // Uncaught TypeError: CreateListFromArrayLike called on non-object æŠ¥é”™äº†
  // æ—¢ç„¶ä¸Šé¢æŠ¥é”™è¯´ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å¦‚æžœä¼ ä¸€ä¸ªå¯¹è±¡å‘¢ï¼Ÿ
  dd.apply(obj,{}) // NaN  å’±ä¹Ÿä¸çŸ¥é“å®žé™…æ˜¯æ€Žä¹ˆè°ƒç”¨çš„ã€‚ã€‚ã€‚
  ```

  #### bindæ–¹æ³•ï¼ˆç¡¬ç»‘å®šï¼‰
  ä¸Šé¢æˆ‘ä»¬è¯´äº†ä¸¤ç§æ˜¾å¼ç»‘å®šçš„æ–¹å¼ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰bindæ–¹æ³•å‘¢ï¼Ÿä¼šæƒ³ä¸€ä¸‹ä¸Šä¸€èŠ‚è¯´çš„ç»‘å®šä¸¢å¤±çš„æƒ…å†µï¼Œæœ‰ä¸€ç§æƒ…å†µæ˜¯æŠŠå‡½æ•°å½“ä½œå‚æ•°ä¼ é€’ç»™å…¶ä»–çš„å‡½æ•°ï¼ˆå¸¸è§çš„å°±æ˜¯å›žè°ƒå‡½æ•°ï¼‰ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¹Ÿä¸çŸ¥é“ä¼ ç»™çš„ç›®æ ‡å‡½æ•°æ˜¯æ€Žä¹ˆè°ƒç”¨æˆ‘ä»¬çš„å‡½æ•°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‡½æ•°è°ƒç”¨çš„æ—¶å€™æˆ‘ä»¬ä¸çŸ¥é“thisçš„æŒ‡å‘åˆ°åº•æ˜¯ä¸æ˜¯é¢„æœŸçš„å¯¹è±¡ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åº”è¯¥æ€Žä¹ˆè§£å†³ï¼Ÿè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ç¡¬ç»‘å®šçš„æ–¹å¼æ¥å®žçŽ°ï¼š
  çœ‹ä¸€ä¸ªä¹¦ä¸­çš„ä¾‹å­ï¼š
  ```javascript
  function foo(){
    console.log(this.a)
  }
  var obj = {
    a:1
  }
  var bar = function(){
    foo.call(obj)
  }
  bar() // 2
  setTimeout(bar,2000) // 2
  // ç¡¬ç»‘å®šçš„barå°±ä¸èƒ½åœ¨ä¿®æ”¹ä»–çš„thisäº†
  bar.call(window) // 2 

  ```

  é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ**ç¡¬ç»‘å®šçš„æ„æ€å°±æ˜¯åœ¨è¿™ä¸ªå‡½æ•°å¤–é¢åœ¨åŒ…è£¹ä¸€å±‚**ï¼Œä¸Šé¢çš„æ˜¯ç»‘å®šå›ºå®šçš„å¯¹è±¡ï¼ŒåŒæ ·æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œå†™ä¸€ä¸ªæ›´é€šç”¨çš„ç¡¬ç»‘å®šçš„å‡½æ•°ï¼š  
  ```javascript
  // å®žçŽ°ä¸€ä¸ªæ›´é€šç”¨çš„ç¡¬ç»‘å®šå‡½æ•°
  function bind (fn,target){
    return function (){
      return fn.apply(target,arguments)
    }
  }
  function foo(num){
    return this.a + num
  }
  var obj = {
    a:1
  }
  var bar = bind(foo,obj)

  var b = bar(1) // foo.call(obj,1)
  console.log(b) // 2
  ```
  ç”±äºŽç¡¬ç»‘å®šæ˜¯ä¸€ä¸ªéžå¸¸å¸¸è§çš„æ¨¡å¼ï¼Œæ‰€ä»¥ES5æä¾›äº†å†…ç½®çš„æ–¹æ³•ï¼šFunction.prototype.bind,ç”¨æ³•è·Ÿä¸Šé¢çš„bindå‡½æ•°ç±»ä¼¼ï¼š
  ``` javascript
  
  function foo(){...}
  var obj = {...}

  var bar = foo.bind(obj)
   
  console.log(bar(1)) // 2

  ```
  ##### bindæ–¹æ³•çš„å…¶ä»–ç”¨å¤„
  çœ‹åˆ°è¿™é‡Œçš„åŒå­¦å¯èƒ½ä¼šæœ‰ä¸ªç–‘é—®ï¼Œbindæ–¹æ³•é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä¼ é€’å…¶ä»–çš„å‚æ•°å—ï¼Ÿé‚£ä¼ é€’ä¹‹åŽæœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿ
  å…¶å®žbindå‡½æ•°è°ƒç”¨çš„æ—¶å€™æ˜¯å¯ä»¥ç±»ä¼¼callé‚£æ ·ä¼ é€’å‚æ•°çš„ï¼Œä¹Ÿå°±è¯´é™¤äº†ç»‘å®šå¯¹è±¡ä¹‹å¤–ï¼Œå¯ä»¥ä¼ ä¸€ä¸ªå‚æ•°åˆ—è¡¨è¿›æ¥ï¼Œå½“è°ƒç”¨è¿”å›žçš„æ–°å‡½æ•°çš„æ—¶å€™è¿™ä¸ªå‚æ•°åˆ—è¡¨ä¼šä¼ ç»™è¢«ç¡¬ç»‘å®šçš„å‡½æ•°åŽ»æ‰§è¡Œã€‚
  
  ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜Žä¸€ä¸‹ï¼š 
  ``` javascript
  function add(num1=0,num2=0){
    return this.basicNum + num1 + num2
  }
  var obj = {basicNum:1}
  // è¿™ä¸ªæ—¶å€™ç›¸å½“äºŽ num1 = 1 
  var add_one = foo.bind(obj,1)
  // num2 = 2
  add_one(2) // 1+1+2
  ```
  ok,è¿™ä¸ªç‰¹ç‚¹æˆ‘ä»¬å·²ç»çŸ¥é“äº† é‚£å®ƒå…·ä½“æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿ
  æ¯”å¦‚è¯´æˆ‘ä»¬æœ‰ä¸€ä¸ªç»™DOMèŠ‚ç‚¹ç»‘å®šäº‹ä»¶çš„å·¥åŽ‚å‡½æ•°ï¼š
  ```javascript
  function domBindEvent(dom,fn_type,fn){
    dom.addEventListener(even_type,fn)
  }
  ```
  è¿™ç§æƒ…å†µä¸‹å½“ç»™ä¸åŒdomç»‘å®šä¸åŒäº‹ä»¶çš„æ—¶å€™å¯ä»¥ä½¿ç”¨bindçš„è¿™ä¸ªç‰¹æ€§ï¼š
  ```javascript
  const div = document.getElementById('id')
  const eventInfo = {
    'click':function(){...},
    'hover':function(){...}
  } 
  // æ­¤æ—¶å¯ä»¥ç”Ÿæˆä¸€ä¸ªé’ˆå¯¹divçš„ç»‘å®šå‡½æ•°ï¼Œç„¶åŽæŠŠevent_typeå’Œfnä¼ è¿›åŽ»
  var divBindFn = domBindEvent.bind(null,div)
  for(let type in eventInfo){
    divBindFn(type,eventInfo[type])
  }
  ```
  #### APIè°ƒç”¨çš„â€˜ä¸Šä¸‹æ–‡â€™
  ç¬¬ä¸‰æ–¹çš„è®¸å¤šå‡½æ•°ï¼Œä»¥åŠJavaScriptè¯­è¨€å’Œå®¿ä¸»çŽ¯å¢ƒä¸­è®¸å¤šæ–°çš„å†…ç½®å‡½æ•°ï¼Œéƒ½æä¾›äº†ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œé€šå¸¸è¢«ç§°ä¸ºä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ï¼Œä½œç”¨å’Œbindä¸€æ ·çš„  
  åŒæ ·ä¸¾ä¾‹æ¥è¯´ï¼š
  ```javascript
  function foo(el){
    console.log(el,this.id)
  }
  var obj = {id:"awesome"}

  [1,2,3].forEach(foo,obj) // 1 awesome 2 awesome 3 awesome 
  ```
  æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘ä»¬å…³äºŽæ˜¾å¼ç»‘å®šçš„ä¸œè¥¿éƒ½å·²ç»è¯´å®Œäº†ï¼Œæ¯”è¾ƒæ‚ï¼Œä¸»è¦å°±æ˜¯ä½¿ç”¨call/apply/bindå‡½æ•°æ¥å®žçŽ°æ˜¾å¼ç»‘å®šï¼Œä¹Ÿè¯¦ç»†è®²è§£äº†è¿™ä¸‰ä¸ªå‡½æ•°çš„ç”¨æ³•ã€‚
  ### newç»‘å®š
  æœ€åŽæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªnewç»‘å®šæ–¹å¼ï¼Œå½“å‡½æ•°å½“ä½œæž„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œthisä¼šæŒ‡å‘æ–°ç”Ÿæˆçš„å¯¹è±¡ï¼š
  åŒæ ·è¿˜æ˜¯ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜Žä¸€ä¸‹ï¼š
  ``` javascript 
  function Foo(a){
    this.a = a 
  }
  var bar = new Foo(2)
  console.log(bar.a) // 2
  ```
  åœ¨è¿™é‡Œæˆ‘ä»¬æ¥è¡¥å……ä¸€ä¸‹newæ“ä½œç¬¦å®žé™…å¹²äº†ä»€ä¹ˆäº‹æƒ…ï¼Œä¹Ÿå°±æ˜¯è¯´å½“æˆ‘ä»¬ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œæˆ–è€…è¯´å‘ç”Ÿæž„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼š  
  1. åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
  2. è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œã€prototypeã€‘é“¾æŽ¥ï¼ˆobj.__proto__ = Foo.ptototypeï¼‰
  3. è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°çš„this
  4. å¦‚æžœå‡½æ•°æ²¡æœ‰è¿”å›žå…¶ä»–å¯¹è±¡ï¼ˆæ³¨æ„ï¼šå¦‚æžœè¿”å›žåŸºç¡€ç±»åž‹ï¼Œä¼šè¢«å¿½ç•¥ï¼‰ï¼Œé‚£ä¹ˆnewè¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›žè¿™ä¸ªæ–°å¯¹è±¡
  è¿™ä¸ªå°±æ˜¯new Foo()æ—¶å‘ç”Ÿçš„äº‹æƒ…ï¼ŒåŽé¢æˆ‘ä»¬ä¼šç»§ç»­è®²å…³äºŽJavaScriptä¸­æž„é€ å‡½æ•°çš„ç»†èŠ‚ï¼Œè¿™ä¸ªåœ°æ–¹å°±ä¸å†èµ˜è¿°äº†ã€‚


  ä¸Šé¢å°±æ˜¯thisç»‘å®šçš„å››ç§è§„åˆ™ï¼Œæˆ‘ä»¬éƒ½ä¸€ä¸€è®²è§£è¿‡äº†ï¼Œæ›´å¤æ‚çš„åœºæ™¯å°±æ˜¯ä¸Šé¢å››ç§ç»‘å®šè§„åˆ™çš„åŒæ—¶åº”ç”¨ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™å‡ ä¸ªè§„åˆ™ç»‘å®šçš„ä¼˜å…ˆçº§ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‡½æ•°åŒæ—¶åº”ç”¨è¿™å‡ ä¸ªç»‘å®šè§„åˆ™æ—¶ï¼Œthisåˆ°åº•æ—¶é€šè¿‡ä»€ä¹ˆæ ·çš„è§„åˆ™æ¥å®žçŽ°ç»‘å®šçš„




  ### è§„åˆ™ä¼˜å…ˆçº§
  **é¦–å…ˆé»˜è®¤è§„åˆ™åº”è¯¥æ˜¯ä¼˜å…ˆçº§æœ€ä½Žçš„ï¼Œå› ä¸ºå…¶ä»–è§„åˆ™åº”ç”¨ä¸ä¸Šæ—¶å€™éƒ½æ˜¯åº”ç”¨çš„é»˜è®¤è§„åˆ™**  
  ç„¶åŽæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…¶ä»–å‡ ç§è§„åˆ™çš„ä¼˜å…ˆçº§ï¼š
  #### éšå¼ç»‘å®š PK æ˜¾å¼ç»‘å®š
  æ˜¾å¼ç»‘å®šæ¯”éšå¼ç»‘å®šçš„ä¼˜å…ˆçº§é«˜ï¼ŒåŒæ ·æˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ä¸€æ®µä»£ç æ¥è¯´æ˜Žï¼š  
  ```javascript
  function foo(){
    console.log(this.a)
  }

  var obj1 = {
    a:1,
    foo:foo
  }

  var obj2 = {
    a:2
    foo:foo
  }
  // éšå¼ç»‘å®š
  obj1.foo() // 1
  obj2.foo() // 2
  // æ˜¾å¼ç»‘å®š > éšå¼ç»‘å®š
  obj1.foo.call(obj2) // 2
  obj2.foo.call(obj1) // 3

```
 çœ‹å®Œä¸Šé¢çš„ä¾‹å­æœ‰çš„åŒå­¦å¯èƒ½ä¼šè¯´ obj1.foo.call(obj2) å®žé™…åº”è¯¥å°±æ˜¯foo.call(obj2)å§ï¼Ÿå› ä¸ºä»£ç æ‰§è¡Œé¡ºåºçš„åŽŸå› æ‰€ä»¥fooå‡½æ•°ç»‘å®šçš„thisæ˜¯obj2ï¼ˆä¹Ÿå¯èƒ½åªæœ‰æˆ‘è‡ªå·±æœ‰è¿™ä¸ªç–‘é—®ðŸ˜„ï¼‰ï¼Œé‚£ä¸‹é¢æˆ‘ä»¬æ¥è°ƒæ¢ä¸€ä¸‹è°ƒç”¨é¡ºåºï¼š  

 ```javascript
  var bindFoo = foo.bind(obj2)
  var obj3 = {
    a:3,
    foo: bindFoo
  }
  obj3.foo() // ? å®žé™…è¾“å‡ºçš„æ˜¯2

  ```
  é€šè¿‡ä¸Šé¢ä¸¤ä¸ªä¾‹å­ å¥½åƒæ˜¾å¼ç»‘å®šå°±æ˜¯æ¯”éšå¼ç»‘å®šçš„ä¼˜å…ˆçº§æ›´é«˜(ä¹Ÿå¯èƒ½æ˜¯ä¸Šé¢è®²çš„bindæ–¹æ³•ç»‘å®šä¹‹åŽthiså°±ä¸èƒ½ä¿®æ”¹å¯¼è‡´)ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æƒ³æƒ³ï¼Œä½ éƒ½ä¸“é—¨ç»‘å®šäº†ï¼Œè‚¯å®šæ˜¯è¦†ç›–éšå¼çš„ç»‘å®šè§„åˆ™çš„ã€‚

  #### newç»‘å®š PK éšå¼ç»‘å®š
  ä¸‹é¢æˆ‘ä»¬å†æ¥åˆ†æžä¸€ä¸‹newç»‘å®šå’Œéšå¼ç»‘å®šçš„ä¼˜å…ˆçº§ï¼Œè¯ä¸å¤šè¯´ï¼Œçœ‹ä»£ç ï¼š  

  ```javascript
  var foo = function(props){this.a = props}
  var obj1 = {foo:foo}
  var obj2 = {}
  // è¿™ä¸ªå°±æ˜¯éšå¼ç»‘å®š
  obj1.foo(1) 
  console.log(obj1.a) // 1
  
  // æ˜¾å¼ç»‘å®šæ¯”éšå¼ç»‘å®šä¼˜å…ˆçº§é«˜
  obj1.foo.call(obj2,2)
  console.log(obj2.a) // 2

  // newç»‘å®šæ¯”éšå¼ç»‘å®šä¼˜å…ˆçº§é«˜
  var bar = new obj1.foo(3)
  console.log(bar.a) // 3
  console.log(obj1.a) //1

  ```
  é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼Œnewç»‘å®šä¼˜å…ˆçº§æ˜¯æ¯”éšå¼ç»‘å®šçš„ä¼˜å…ˆçº§æ›´é«˜çš„

  #### newç»‘å®š PK bindç»‘å®š

   å› ä¸ºcall/applyä½¿ç”¨ä¹‹åŽå‡½æ•°å°±ç›´æŽ¥æ‰§è¡Œäº†ï¼Œæ²¡æœ‰åŠžæ³•åœ¨å½“ä½œæž„é€ å‡½æ•°è¢«è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨bindç»‘å®šæ¥è·Ÿnewç»‘å®šæ¯”è¾ƒä¼˜å…ˆçº§ï¼š
   åŒæ ·è¿˜æ˜¯çœ‹ä¸€æ®µä»£ç æ¥çœ‹ä¸€ä¸‹ä¼˜å…ˆçº§æ˜¯æ€Žæ ·çš„ï¼š  
   ```javascript
   function foo(something){
     this.a = something
   }
   var obj = {}
   var bar = foo.bind(obj)
   bar(1) 
   console.log(obj.a) // 1

   var baz = new bar(3)
   console.log(obj.a) // 1
   // çœ‹ä¸€ä¸‹ è¿™ä¸ªçš„è¯è¯´æ˜Žnewç»‘å®šä¼˜å…ˆçº§æ›´é«˜
   console.log(baz.a) // 3 

   ```
  #### æ€»ç»“

  é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¤§è‡´çŸ¥é“äº†ä¼˜å…ˆçº§çš„é¡ºåºï¼š**newç»‘å®š > æ˜¾å¼ç»‘å®š > éšå¼ç»‘å®š > é»˜è®¤ç»‘å®š**
   


  






  
  
  ## å¯¹è±¡





  ## åŽŸåž‹




  




 